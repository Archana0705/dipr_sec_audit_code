<!DOCTYPE html>
<html>

<head>
  <title>Page Title</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#007bff">

</head>

<body>

  <h1>This is a Heading</h1>
  <p>This is a paragraph.</p>

  <li class="t-NavigationBar-item a-pwaInstall"> <a class="t-Button t-Button--icon t-Button--header t-Button--navBar"
      href="#action$a-pwa-install" title="" target="" aria-roledescription="action link"> <span
        class="t-Icon fa fa-cloud-download" aria-hidden="true"></span><span class="t-Button-label">Install
        App</span><span class="t-Button-badge"></span> </a> </li>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
    crossorigin="anonymous"></script>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/service-worker.js')
        .then(() => console.log('Service Worker registered'));
    }
  </script>
  <script>
    let deferredPrompt;

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      $('.a-pwaInstall').show(); // show the button only when eligible
    });

    $('.a-pwaInstall a').on('click', async function () {
      if (!deferredPrompt) return;
      deferredPrompt.prompt();
      const { outcome } = await deferredPrompt.userChoice;
      if (outcome === 'accepted') {
        console.log('App installed');
        $('.a-pwaInstall').hide();
      }
      deferredPrompt = null;
    });

    window.addEventListener('appinstalled', () => {
      console.log('App successfully installed');
      $('.a-pwaInstall').hide();
    });
  </script>



</body>

</html>